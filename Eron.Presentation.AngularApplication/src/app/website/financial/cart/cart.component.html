<div class="wrapper-wide">
  <app-header></app-header>
  <div id="container">
    <div class="container">
      <!-- Breadcrumb Start-->
      <ul class="breadcrumb">
        <li>
          <a routerLink="/">
            <i class="fa fa-home"></i>
          </a>
        </li>
        <li>
          <a routerLink="cart">سبد خرید</a>
        </li>
      </ul>
      <!-- Breadcrumb End-->
      <div class="row">
        <!--Middle Part Start-->
        <div id="content" class="col-sm-12">
          <h1 class="title">سبد خرید</h1>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead>
                <tr>
                  <td class="text-center">تصویر</td>
                  <td class="text-left">نام محصول</td>
                  <td class="text-left">تعداد</td>
                  <td class="text-right">قیمت واحد</td>
                  <td class="text-right">کل</td>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of cartItemList; let index = index">
                  <td class="text-center">
                    <a [routerLink]="['/product', item.productCode, item.productName | slug]">
                      <img [src]="item.productImageAddress" style="width:50px" alt="{{item.productName}}" title="{{item.productName}}"
                        class="img-thumbnail">
                    </a>
                  </td>
                  <td class="text-left">
                    <a [routerLink]="['/product', item.productCode, item.productName | slug]">{{item.productName}}</a>
                    <br>
                    <!-- <small>امتیازات خرید: 1000</small></td> -->
                    <td class="text-left">
                      <div class="input-group btn-block quantity">
                        <input type="number" name="quantity" [(ngModel)]="item.count" (change)="onCountChange(item)" class="form-control">
                        <span class="input-group-btn">
                          <!-- <button type="submit" data-toggle="tooltip" title="" class="btn btn-primary" data-original-title="بروزرسانی"><i class="fa fa-refresh"></i></button> -->
                          <button type="button" data-toggle="tooltip" title="" class="btn btn-danger" (click)="onRemoveItemFromCart(item.id, index)"
                            data-original-title="حذف">
                            <i class="fa fa-times-circle"></i>
                          </button>
                        </span>
                      </div>
                    </td>
                    <td class="text-right">{{item.productPrice | priceToman }}</td>
                    <td class="text-right">{{item.productPrice * item.count | priceToman}}</td>
                </tr>
                <tr *ngIf="cartItemList.length == 0">
                  <td class="text-center" colspan="5">سبد خرید شما خالیست</td>
                </tr>

              </tbody>
            </table>
          </div>
          <!-- <div class="panel panel-default">
                  <div class="panel-heading">
                    <h4 class="panel-title">پیش بینی هزینه ی حمل و نقل و مالیات</h4>
                  </div>
                  <div id="collapse-shipping" class="panel-collapse collapse in">
                    <div class="panel-body">
                      <p>مقصد خود را جهت براورد هزینه ی 0 تومان وارد کنید.</p>
                      <form class="form-horizontal">
                        <div class="form-group required">
                          <label class="col-sm-2 control-label" for="input-country">کشور</label>
                          <div class="col-sm-10">
                            <select name="country_id" id="input-country" class="form-control">
                              <option value="239">Zimbabwe</option>
                            </select>
                          </div>
                        </div>
                        <div class="form-group required">
                          <label class="col-sm-2 control-label" for="input-zone">شهر / استان</label>
                          <div class="col-sm-10">
                            <select class="form-control" id="input-zone" name="zone_id">
                              <option value=""> --- لطفا انتخاب کنید --- </option>
                            </select>
                          </div>
                        </div>
                        <div class="form-group required">
                          <label class="col-sm-2 control-label" for="input-postcode">کد پستی</label>
                          <div class="col-sm-10">
                            <input type="text" name="postcode" value="" placeholder="کد پستی" id="input-postcode" class="form-control">
                          </div>
                        </div>
                        <input type="button" value="دریافت پیش فاکتور" id="button-quote" data-loading-text="بارگذاری ..." class="btn btn-primary">
                      </form>
                    </div>
                  </div>
                </div> -->
          <div class="row">
            <div class="col-sm-4 col-sm-offset-8">
              <table class="table table-bordered">
                <tbody>
                  <tr>
                    <td class="text-right">
                      <strong>جمع کل:</strong>
                    </td>
                    <td class="text-right">{{totalPrice | priceToman }}</td>
                  </tr>
                  <!-- <tr>
                        <td class="text-right"><strong>کسر هدیه:</strong></td>
                        <td class="text-right">4000 تومان</td>
                      </tr>
                      <tr>
                        <td class="text-right"><strong>مالیات:</strong></td>
                        <td class="text-right">11880 تومان</td>
                      </tr> -->
                  <tr>
                    <td class="text-right">
                      <strong>کل :</strong>
                    </td>
                    <td class="text-right">{{totalPrice | priceToman }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="buttons">
            <div class="pull-left">
              <a routerLink="/" class="btn btn-default">ادامه خرید</a>
            </div>
            <div class="pull-right">
              <a routerLink="/checkout" class="btn btn-primary">تسویه حساب</a>
            </div>
          </div>
        </div>
        <!--Middle Part End -->
      </div>
    </div>
  </div>
  <!--Footer Start-->
  <app-footer></app-footer>
  <!--Footer End-->
</div>
